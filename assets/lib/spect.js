const e=Symbol("c"),t=Symbol("i"),s=Symbol("d"),i=Symbol("s"),n=Symbol("f"),r=Symbol("$"),o=Symbol("m"),l=Symbol("a"),a=Symbol("t"),h=i;Symbol.observable||(Symbol.observable=Symbol("observable")),Symbol.dispose||(Symbol.dispose=Symbol("dispose"));var c=e=>new u(e);class u{constructor(e){Object.defineProperties(this,{observers:{value:[]}}),this[0]=e}get value(){return this[0]}set value(e){this[0]=e;for(let t of this.observers)"function"==typeof t[a]&&t[a](),t.next&&(t[a]=t.next(e))}valueOf(){return this.value}toString(){return this.value}[Symbol.toPrimitive](e){return this.value}subscribe(e,t,s){const i=()=>(this.observers.length&&this.observers.splice(this.observers.indexOf(n)>>>0,1),s&&s()),n={next:e=e&&e.next||e,error:t=e&&e.error||t,complete:s=e&&e.complete||s,unsubscribe:i,[a]:null};return this.observers.push(n),void 0!==this[0]&&(n[a]=e(this[0])),i.unsubscribe=i}map(e){const t=new u;return this.subscribe(s=>t.value=e(s)),t}error(e){this.observers.map(t=>t.error&&t.error(e))}[Symbol.observable](){return this}async*[Symbol.asyncIterator](){let e,t=[],s=new Promise(t=>e=t),i=this.subscribe(i=>(t.push(i),e(),s=new Promise(t=>e=t)));try{for(;;)yield*t.splice(0),await s}catch{}finally{i()}}[Symbol.dispose](){this[0]=null;const e=this.observers.map(e=>("function"==typeof e[a]&&e[a](),e.unsubscribe));this.observers.length=0,e.map(e=>e())}}let f=0;const d={},p={},m={},y={},b={},g=new WeakMap,v="undefined"!=typeof AnimationEvent,S=document.head.appendChild(document.createElement("style"));function w(e,t,s){if(e&&e.raw)return new E(null,String.raw.apply(null,arguments));if("string"==typeof e)return new E(null,e,t);if(!t||"function"==typeof t){s=t;let i=e;i||(i=[]),i.nodeType&&(i=[i]);const n=new E(null,null,s);return i.forEach(e=>n.add(e)),n}return new E(e,t,s)}class E extends Array{constructor(h,u,g){if("number"==typeof h)return Array(h);if(super(),this[e]=c(this),this[t]=new WeakMap,this[s]=new WeakSet,this[a]=new WeakMap,this[i]=h,this[n]=g,!u)return;const w=Object.getPrototypeOf(this);(h||document).querySelectorAll(u).forEach(e=>{w.add.call(this,e)});const E=/(?:#([\w:-]+)|\[\s*name=['"]?([\w:-]+)['"]?\s*\]|\.([\w:-]+)|([\*\w:-]+))(\[[^\]]+\]|\.[\w:-]+)*$/;if(this[r]=u.split(/\s*,\s*/).map(e=>{const t=(e=new String(e)).match(E);if(e.filter=e,!t)return e;let[s,i,n,r,o,l]=t;return i?(d[e.id=i]=d[i]||[]).push(this):n?(y[e.name=n]=y[n]||[]).push(this):r?(p[e.class=r]=p[r]||[]).push(this):o&&(e.tag=o=o.toUpperCase(),m[o]=m[o]||[]).push(this),l?e.filter=e.slice(0,t.index)+e.slice(-l.length):t.index||delete e.filter,e}),this[o]=this[r].some(e=>e.filter),!v||!this[r].every(e=>e.tag&&!e.filter)){let e=b[this[r]];if(!e){const{sheet:t}=S,{cssRules:s}=t;e=b[this[r]]=[],e.id="üëÅ-"+(f++).toString(36),t.insertRule(`@keyframes ${e.id}{}`,s.length),t.insertRule(`${this[r].map(t=>t+`:not(.${e.id})`)}{animation:${e.id}}`,s.length),t.insertRule(`.${e.id}{animation:${e.id}}`,s.length),t.insertRule(`${this[r].map(t=>t+`.${e.id}`)}{animation:unset;animation:revert}`,s.length),e.rules=[].slice.call(s,-4),e.onanim=t=>{if(t.animationName!==e.id)return;t.stopPropagation(),t.preventDefault();let{target:s}=t;s.classList.contains(e.id)?(s.classList.remove(e.id),e.forEach(e=>e.delete(s))):(s.classList.add(e.id),e.forEach(e=>Object.getPrototypeOf(e).add.call(e,s,!1)))},document.addEventListener("animationstart",e.onanim,!0)}this[l]=e.id,e.push(this)}}add(l,h=this[o]){if(l&&!this[t].has(l)&&(!h||l.matches(this[r]))){if(this[i]){if(this[i]===l)return;if(this[i].nodeType){if(!this[i].contains(l))return}else if([].every.call(this[i],e=>!e.contains(l)))return}this.push(l),this[t].set(l,[l.id,l.name]),l.name&&(this[l.name]=l),l.id&&(this[l.id]=l),this[s].has(l)&&this[s].delete(l),g.has(l)&&g.get(l).has(this)||(g.has(l)||g.set(l,new Set),g.get(l).add(this),l.classList.add("üëÅ"),this[a].set(l,this[n]&&this[n](l)),this[e].value=this)}}delete(i,n=!1){if(!this[t].has(i))return;this.length&&this.splice(this.indexOf(i>>>0,1),1);const[r,o]=this[t].get(i);o&&delete this[o],r&&delete this[r],this[t].delete(i),this[s].add(i);const l=()=>{if(!this[s].has(i))return;if(this[s].delete(i),!g.has(i))return;const t=this[a].get(i);t&&(t.call?t(i):t.then&&t.then(e=>e&&e.call&&e())),this[a].delete(i),this[e].value=this,g.get(i).delete(this),g.get(i).size||(g.delete(i),i.classList.remove("üëÅ"))};n?l():requestAnimationFrame(l)}[Symbol.observable](){return this[e]}item(e){return e<0?this[this.length+e]:this[e]}namedItem(e){return this[e]}has(e){return this[t].has(e)}[Symbol.dispose](){const t=this;if(t[r]&&t[r].forEach(({id:e,class:s,name:i,tag:n})=>{e&&d[e].splice(d[e].indexOf(t)>>>0,1),i&&y[i].splice(y[i].indexOf(t)>>>0,1),s&&p[s].splice(p[s].indexOf(t)>>>0,1),n&&m[n].splice(m[n].indexOf(t)>>>0,1)}),t[l]){const e=b[t[r]];e.splice(e.indexOf(t)>>>0,1),e.length||(document.removeEventListener("animationstart",e.onanim),delete b[t[r]],e.rules&&e.rules.forEach(e=>{let t=[].indexOf.call(S.sheet.cssRules,e);~t&&S.sheet.deleteRule(t)}))}t[e][Symbol.dispose]();let s=[...t];t.length=0,s.forEach(e=>t.delete(e,!0))}}const x=(e,t,s)=>{t&&e&&[].forEach.call(e.nodeType?[e]:e,e=>t.forEach(t=>Object.getPrototypeOf(t).add.call(t,e,s)))},O=e=>[e.classList.contains("üëÅ")?e:null,...e.getElementsByClassName("üëÅ")].forEach(e=>g.has(e)&&g.get(e).forEach(t=>t.delete(e)));new MutationObserver(e=>{for(let t of e){let{addedNodes:e,removedNodes:s,target:i}=t;if(!v){O(i);for(let e in b)x([i,...i.querySelectorAll(e)],b[e],!0)}s.forEach(e=>1===e.nodeType&&O(e)),e.forEach(e=>{if(1===e.nodeType){if(e.id&&(x(e,d[e.id]),e.getElementById))for(let t in d)x(e.getElementById(t),d[t]);if(e.name){x(e,y[e.name]);for(let t in y)x(e.getElementsByName(t),y[t])}if(e.className){e.classList.forEach(t=>x(e,p[t]));for(let t in p)x(e.getElementsByClassName(t),p[t])}x(e,m[e.tagName]);for(let t in m)x(e.getElementsByTagName(t),m[t])}})}}).observe(document,{childList:!0,subtree:!0,attributes:!v});var N=function(e,t,s,i){var n;t[0]=0;for(var r=1;r<t.length;r++){var o=t[r++],l=t[r]?(t[0]|=o?1:2,s[t[r++]]):t[++r];3===o?i[0]=l:4===o?i[1]=Object.assign(i[1]||{},l):5===o?(i[1]=i[1]||{})[t[++r]]=l:6===o?i[1][t[++r]]+=l+"":o?(n=e.apply(l,N(e,l,s,["",null])),i.push(n),l[0]?t[0]|=2:(t[r-2]=0,t[r]=n)):i.push(l)}return i},A=new Map;function T(e){var t=A.get(this);return t||(t=new Map,A.set(this,t)),(t=N(this,t.get(e)||(t.set(e,t=function(e){for(var t,s,i=1,n="",r="",o=[0],l=function(e){1===i&&(e||(n=n.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?o.push(0,e,n):3===i&&(e||n)?(o.push(3,e,n),i=2):2===i&&"..."===n&&e?o.push(4,e,0):2===i&&n&&!e?o.push(5,0,!0,n):i>=5&&((n||!e&&5===i)&&(o.push(i,0,n,s),i=6),e&&(o.push(i,e,0,s),i=6)),n=""},a=0;a<e.length;a++){a&&(1===i&&l(),l(a));for(var h=0;h<e[a].length;h++)t=e[a][h],1===i?"<"===t?(l(),o=[o],i=3):n+=t:4===i?"--"===n&&">"===t?(i=1,n=""):n=t+n[0]:r?t===r?r="":n+=t:'"'===t||"'"===t?r=t:">"===t?(l(),i=1):i&&("="===t?(i=5,s=n,n=""):"/"===t&&(i<5||">"===e[a][h+1])?(l(),3===i&&(o=o[0]),i=o,(o=o[0]).push(2,0,i),i=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(l(),i=2):n+=t),3===i&&"!--"===n&&(i=4,o=o[0])}return l(),o}(e)),t),arguments,[])).length>1?t:t[0]}const $=(e,t)=>{let s,i;return e[Symbol.observable]?s=e[Symbol.observable]().subscribe({next:t}):e.subscribe?s=e.subscribe(t):e[Symbol.asyncIterator]?(s=()=>i=!0,(async()=>{for await(e of e){if(i)break;t(e)}})()):e.then?e.then(t):"function"==typeof e&&e.set&&(s=e(t)),s},j=e=>!e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||("object"==typeof e?e instanceof RegExp||e instanceof Date:"function"!=typeof e),P=e=>!j(e)&&!!(e[Symbol.observable]||e[Symbol.asyncIterator]||"function"==typeof e&&e.set||e.next||e.then),L=new WeakSet,B={init:!1},k=function(e,t,...s){const i=this.init;if("string"==typeof e){if(/#|\./.test(e)){let s,i;[e,s]=e.split("#"),s?[s,...i]=s.split("."):[e,...i]=e.split("."),(s||i.length)&&(t=t||{},s&&(t.id=s),i.length&&(t.class=i))}if(e=document.createElement(e),i){e[h]=!0;for(let s in t)F(e,s,t[s]);return e.append(...C(s)),e}}else{if(i)return;if("function"==typeof e){if(e=e({children:s,...t}),Array.isArray(e)){let t=document.createDocumentFragment();t.append(...e),e=t}return e}e[Symbol.dispose]&&e[Symbol.dispose]()}let n,r,o,l=[];for(let s in t){let i=t[s];if("string"==typeof i&&(i=i.replace(/false|null|undefined/g,"")),j(i))F(e,s,i);else if(P(i))l.push($(i,t=>F(e,s,t)));else if("style"===s)for(let t in i){let s=i[t];if(P(s))l.push($(s,s=>e.style.setProperty(t,s)));else{let i=s.match(/(.*)\W+!important\W*$/);i?e.style.setProperty(t,i[1],"important"):e.style.setProperty(t,s)}}else F(e,s,i)}for(r=0;r<s.length;r++)(o=s[r])&&(o[h]?s[r]=o.cloneNode(!0):P(o)&&(l.push((n||(n=[]))[r]=o),o=document.createTextNode("")));e.childNodes.length?M(e,e.childNodes,C(s)):e.append(...C(s));n&&n.map((t,i)=>$(t,t=>(s[i]=t,M(e,e.childNodes,C(s)))));l.length&&(e[a]=l);return e[Symbol.dispose]=W,e}.bind(B);function R(e){if(!Array.isArray(e))return k(...arguments);let t,s=1;for(L.has(e)||(s++,L.add(e));s--;)B.init=!!s,t=T.apply(k,s?[e]:arguments);return j(t)?document.createTextNode(null==t?"":t):Array.isArray(t)?k(document.createDocumentFragment(),null,...t):t[h]?t.cloneNode(!0):t}function W(){if(this[a])for(let e of this[a])e();this[a]=null}const C=e=>{let t,s=[],i=0;for(;i<e.length;)if(null!=(t=e[i++]))if(j(t)||t.nodeType)s.push(t);else if(t[Symbol.iterator])for(t of t)s.push(t);return s},I=(e,t)=>e===t||e&&t&&3===e.nodeType&&3===t.nodeType&&e.data===t.data,M=(e,t,s,i=null)=>{let n,r,o,l=0,a=s.length,h=t.length;for(;l<a&&l<h&&I(t[l],s[l]);)l++;for(;l<a&&l<h&&I(s[a-1],t[h-1]);)i=s[(--h,--a)];if(l==h)for(;l<a;)D(e,s[l++],i);else{for(n=t[l];l<a;)o=s[l++],r=n?n.nextSibling:i,I(n,o)?n=r:l<a&&I(s[l],r)?(q(e,n,o),n=r):D(e,o,n);for(;n!=i;)r=n.nextSibling,e.removeChild(n),n=r}return s},D=(e,t,s)=>{null!=t&&(j(t)?e.insertBefore(document.createTextNode(t),s):e.insertBefore(t,s))},q=(e,t,s,i)=>{null!=s&&(j(s)?3===t.nodeType?t.data=s:t.replaceWith(s):s.nodeType?e.replaceChild(s,t):M(e,[t],s,i))},F=(e,t,s,i)=>(e[t]!==s&&(!(t in e.constructor.prototype)||!(i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t))||i.set)&&(e[t]=s),!1===s||null==s?e.removeAttribute(t):"function"!=typeof s&&e.setAttribute(t,!0===s?"":"number"==typeof s||"string"==typeof s?s:"class"===t&&Array.isArray(s)?s.filter(Boolean).join(" "):"style"===t&&s.constructor===Object?(t=s,s=Object.values(s),Object.keys(t).map((e,t)=>`${e}: ${s[t]};`).join(" ")):""));export default w;export{w as $,R as h,c as v};